{"ast":null,"code":"var _jsxFileName = \"/home/jasonw/Desktop/React/bugtracker/src/components/dashboard/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport \"../layout/navbar.css\";\nimport Chart from \"../chart/chart\";\nimport axios from \"axios\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:4000/projects\").then(response => {\n      this.setState({\n        data: response.data\n      });\n      console.log(\"Projects here\" + JSON.stringify(response.data));\n    }).catch(err => {\n      console.log(\"Error\", err);\n    });\n  }\n\n  render() {\n    // const { user } = this.props.auth;\n    // console.log(\"Auth here\" + JSON.stringify(user));\n    let projectNameLabels = this.state.data.map(i => i.projectName);\n    let data = this.state.data.map(j => j.bugs.length);\n    let newChartData = {\n      projectNameLabels,\n      data\n    };\n    console.log(\"Project Name Labels\", projectNameLabels);\n    console.log(\"Project bug count\", dataSets);\n    console.log(\"New Chart Data \", newChartData);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      chartData: newChartData,\n      legendPosition: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }));\n  }\n\n}\n\nDashboard.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(Dashboard);","map":{"version":3,"sources":["/home/jasonw/Desktop/React/bugtracker/src/components/dashboard/Dashboard.js"],"names":["React","Component","Link","Route","PropTypes","connect","logoutUser","Chart","axios","Dashboard","constructor","props","onLogoutClick","e","preventDefault","state","data","componentDidMount","get","then","response","setState","console","log","JSON","stringify","catch","err","render","projectNameLabels","map","i","projectName","j","bugs","length","newChartData","dataSets","propTypes","func","isRequired","auth","object","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,KAAf,QAA4B,kBAA5B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAN,SAAwBR,SAAxB,CAAkC;AAChCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqBnBC,aArBmB,GAqBHC,CAAC,IAAI;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKH,KAAL,CAAWL,UAAX;AACH,KAxBkB;;AAGf,SAAKS,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE;AADK,KAAb;AAGH;;AAGDC,EAAAA,iBAAiB,GAAG;AAClBT,IAAAA,KAAK,CAACU,GAAN,CAAU,gCAAV,EACCC,IADD,CACMC,QAAQ,IAAI;AACd,WAAKC,QAAL,CAAc;AACdL,QAAAA,IAAI,EAAEI,QAAQ,CAACJ;AADD,OAAd;AAEAM,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACJ,IAAxB,CAA9B;AACC,KALL,EAMCU,KAND,CAMOC,GAAG,IAAI;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBI,GAApB;AACH,KARD;AASH;;AASCC,EAAAA,MAAM,GAAG;AAEL;AACA;AAEA,QAAIC,iBAAiB,GAAG,KAAKd,KAAL,CAAWC,IAAX,CAAgBc,GAAhB,CAAoBC,CAAC,IAAIA,CAAC,CAACC,WAA3B,CAAxB;AACA,QAAIhB,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgBc,GAAhB,CAAoBG,CAAC,IAAIA,CAAC,CAACC,IAAF,CAAOC,MAAhC,CAAX;AAEA,QAAIC,YAAY,GAAG;AAACP,MAAAA,iBAAD;AAAmBb,MAAAA;AAAnB,KAAnB;AAEAM,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCM,iBAAnC;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCc,QAAjC;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+Ba,YAA/B;AAEJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEA,YAAlB;AAAgC,MAAA,cAAc,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADJ;AAKC;;AAhD+B;;AAqDlC3B,SAAS,CAAC6B,SAAV,GAAsB;AACpBhC,EAAAA,UAAU,EAAEF,SAAS,CAACmC,IAAV,CAAeC,UADP;AAEpBC,EAAAA,IAAI,EAAErC,SAAS,CAACsC,MAAV,CAAiBF;AAFH,CAAtB;;AAIE,MAAMG,eAAe,GAAG5B,KAAK,KAAK;AAChC0B,EAAAA,IAAI,EAAE1B,KAAK,CAAC0B;AADoB,CAAL,CAA7B;;AAGA,eAAepC,OAAO,CACpBsC,eADoB,EAEpB;AAAErC,EAAAA;AAAF,CAFoB,CAAP,CAGbG,SAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\"; \nimport \"../layout/navbar.css\";\nimport Chart from \"../chart/chart\";\n\nimport axios from \"axios\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n      super(props);\n\n      this.state = {\n        data: []\n      }\n  }\n\n\n  componentDidMount() {\n    axios.get(\"http://localhost:4000/projects\")\n    .then(response => {\n        this.setState({\n        data: response.data});\n        console.log(\"Projects here\" + JSON.stringify(response.data));\n        })\n    .catch(err => {\n        console.log(\"Error\",err);\n    })\n}\n\n  onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n  };\n\n\n\n  render() {\n\n      // const { user } = this.props.auth;\n      // console.log(\"Auth here\" + JSON.stringify(user));\n\n      let projectNameLabels = this.state.data.map(i => i.projectName);\n      let data = this.state.data.map(j => j.bugs.length);\n\n      let newChartData = {projectNameLabels,data};\n\n      console.log(\"Project Name Labels\", projectNameLabels);\n      console.log(\"Project bug count\", dataSets);\n      console.log(\"New Chart Data \", newChartData);\n\n  return (\n      <div>\n        <Chart chartData={newChartData} legendPosition=\"bottom\"/>\n      </div>\n    );\n  }\n}\n\n  \n\nDashboard.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n  const mapStateToProps = state => ({\n    auth: state.auth\n  });\n  export default connect(\n    mapStateToProps,\n    { logoutUser }\n  )(Dashboard);"]},"metadata":{},"sourceType":"module"}