{"ast":null,"code":"import _classCallCheck from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';var Users=function Users(props){return React.createElement(\"tr\",null,React.createElement(\"td\",null,props.user.name),React.createElement(\"td\",null,props.user.email),React.createElement(\"td\",null,props.user.role),React.createElement(\"td\",null,props.user.date.substring(0,10)),React.createElement(\"td\",null,React.createElement(Link,{to:\"/api/users/\"+props.user._id,className:\"btn btn-success\"},\"Edit \"),\"  \",React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){props.deleteUser(props.user._id);}},\" Delete\")));};var UserList=/*#__PURE__*/function(_Component){_inherits(UserList,_Component);function UserList(props){var _this;_classCallCheck(this,UserList);_this=_possibleConstructorReturn(this,_getPrototypeOf(UserList).call(this,props));_this.state={users:[],query:''};_this.deleteUser=_this.deleteUser.bind(_assertThisInitialized(_this));_this.searchQuery=_this.searchQuery.bind(_assertThisInitialized(_this));return _this;}_createClass(UserList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:4000/api/users/usersList').then(function(response){_this2.setState({users:response.data});console.log(\"Did Mount here\"+response.data);}).catch(function(error){console.log(\"error \"+error);});}},{key:\"searchQuery\",value:function searchQuery(e){this.setState({query:e.target.value});}},{key:\"deleteUser\",value:function deleteUser(id){axios.delete('http://localhost:4000/users/'+id).then(function(response){console.log(response.data);});this.setState({users:this.state.users.filter(function(el){return el._id!==id;})});}},{key:\"render\",value:function render(){var _this3=this;console.log(\"Users \"+JSON.stringify(this.state.users));var findQuery=this.state.users.filter(function(i){return i.name.toLowerCase().indexOf(_this3.state.query.toLowerCase())!==-1;});return React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"ol\",{className:\"breadcrumb mb-3\"},React.createElement(\"li\",{className:\"breadcrumb-item active\"},React.createElement(\"strong\",null,\"Users\"))),React.createElement(\"input\",{className:\"form-control mr-sm-2\",onChange:this.searchQuery,type:\"text\",placeholder:\"Search users...\"}),React.createElement(\"table\",{className:\"table table-striped\",style:{marginTop:20}},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"User Name\"),React.createElement(\"th\",null,\"Email\"),React.createElement(\"th\",null,\"Role\"),React.createElement(\"th\",null,\"Account Created\"),React.createElement(\"th\",null,\"Assigned Bugs\"),React.createElement(\"th\",null,\"Actions\"))),React.createElement(\"tbody\",null,findQuery.map(function(currentUser){return React.createElement(Users,{user:currentUser,deleteUser:_this3.deleleUser,key:currentUser._id,date:currentUser.date.substring(0,10)});}))));}}]);return UserList;}(Component);export{UserList as default};","map":{"version":3,"sources":["/home/jasonw/Desktop/React/bugtracker/client/src/components/usersProfile/userList.component.js"],"names":["React","Component","Link","axios","Users","props","user","name","email","role","date","substring","_id","deleteUser","UserList","state","users","query","bind","searchQuery","get","then","response","setState","data","console","log","catch","error","e","target","value","id","delete","filter","el","JSON","stringify","findQuery","i","toLowerCase","indexOf","marginTop","map","currentUser","deleleUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Users = props => (\n    <tr>\n    <td>{props.user.name}</td>\n        <td >{props.user.email}</td>\n        <td >{props.user.role}</td>\n        <td >{(props.user.date).substring(0,10)}</td>\n        \n        <td>\n        <Link to={\"/api/users/\"+props.user._id} className=\"btn btn-success\" >Edit </Link>  <button className=\"btn btn-danger\" onClick={() => { props.deleteUser(props.user._id) }}> Delete</button>\n        </td>\n        \n    </tr>\n)\n\nexport default class UserList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            users: [],\n            query: ''\n        }\n        this.deleteUser = this.deleteUser.bind(this);\n        this.searchQuery = this.searchQuery.bind(this);\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:4000/api/users/usersList')\n            .then(response => {\n                this.setState({\n                    users: response.data});\n                    console.log(\"Did Mount here\" + response.data)\n            })\n            .catch(function(error) {\n                console.log(\"error \" + error)\n            })\n\n    }\n\n\n    searchQuery(e) {\n        this.setState({\n            query: e.target.value\n        })\n    }\n\n    deleteUser(id) {\n        axios.delete('http://localhost:4000/users/'+id) \n            .then(response => {console.log(response.data)});\n\n        this.setState({\n            users: this.state.users.filter(el => el._id !== id)\n        })\n    }\n\n    render() {\n\n        console.log(\"Users \" + JSON.stringify(this.state.users));\n\n        let findQuery = this.state.users.filter(\n            i => i.name.toLowerCase().indexOf(this.state.query.toLowerCase()) !== -1);\n            \n        return (\n            <div className=\"container-fluid\">\n            <ol className=\"breadcrumb mb-3\">\n                <li className=\"breadcrumb-item active\"><strong>Users</strong></li>\n            </ol>\n            \n            <input\n                className=\"form-control mr-sm-2\"\n                onChange={this.searchQuery}\n                type=\"text\"\n                placeholder=\"Search users...\"\n            />\n            <table className=\"table table-striped\"\n                style={{marginTop: 20 }}>\n                    <thead>\n                        <tr>\n                            <th>User Name</th>   \n                            <th>Email</th>\n                            <th>Role</th>\n                            <th>Account Created</th>\n                            <th>Assigned Bugs</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {findQuery.map((currentUser) =>{\n                            return <Users user={currentUser}\n                                        deleteUser={this.deleleUser}\n                                        key={currentUser._id}\n                                        date={currentUser.date.substring(0,10)}\n                        />\n            })}\n                    </tbody>\n\n                </table>\n        </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}