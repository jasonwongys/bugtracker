{"ast":null,"code":"import _classCallCheck from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';//import \"bootstrap/dist/css/bootstrap.min.css\";\nimport{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"./utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"./actions/authActions\";import'./App.css';import{Provider}from\"react-redux\";import store from\"./store\";import Navbar from\"../src/components/layout/Navbar\";import CreateBug from\"../src/components/bugtrack/createbug.component\";import BugList from\"../src/components/bugtrack/buglist.component\";import EditBug from\"../src/components/bugtrack/editbug.component\";import Projects from\"../src/components/projects/projectlist\";import CreateProject from\"../src/components/projects/createproject\";import EditProject from\"../src/components/projects/editproject.component\";import UsersList from\"../src/components/usersProfile/userList.component\";import EditUsers from\"../src/components/usersProfile/editUsers.component\";import ViewProjectBugs from\"../src/components/projects/viewProjectBugs\";import Notfound from\"./components/Notfound\";import Register from\"./components/auth/Register\";import Login from\"./components/auth/Login\";import PrivateRoute from\"./components/private-route/PrivateRoute\";import Dashboard from\"./components/dashboard/Dashboard\";if(localStorage.jwtToken){// Set auth token header auth\nvar token=localStorage.jwtToken;setAuthToken(token);// Decode token and get user info and exp\nvar decoded=jwt_decode(token);// Set user and isAuthenticated\nstore.dispatch(setCurrentUser(decoded));// Check for expired token\nvar currentTime=Date.now()/1000;// to get in milliseconds\nif(decoded.exp<currentTime){// Logout user\nstore.dispatch(logoutUser());// Redirect to login\nwindow.location.href=\"/login\";}}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments));}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(Switch,null,React.createElement(PrivateRoute,{path:\"/buglist\",component:BugList}),React.createElement(PrivateRoute,{exact:true,path:\"/edit/:id\",component:EditBug}),React.createElement(PrivateRoute,{exact:true,path:\"/projects/bugs/:id\",component:CreateBug}),React.createElement(PrivateRoute,{exact:true,path:\"/projects\",component:Projects}),React.createElement(PrivateRoute,{exact:true,path:\"/editProj/:id\",component:EditProject}),React.createElement(PrivateRoute,{path:\"/createProj\",component:CreateProject}),React.createElement(PrivateRoute,{path:\"/usersList\",component:UsersList}),React.createElement(PrivateRoute,{path:\"/api/users/:id\",component:EditUsers}),React.createElement(PrivateRoute,{path:\"/bugs/:id\",component:ViewProjectBugs}),React.createElement(Route,{path:\"/login\",component:Login}),React.createElement(Route,{path:\"/register\",component:Register}),React.createElement(Route,{path:\"/dashboard\",component:Dashboard}),React.createElement(Route,{component:Notfound})));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/home/jasonw/Desktop/React/bugtracker/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","Navbar","CreateBug","BugList","EditBug","Projects","CreateProject","EditProject","UsersList","EditUsers","ViewProjectBugs","Notfound","Register","Login","PrivateRoute","Dashboard","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n//import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport './App.css';\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport Navbar from \"../src/components/layout/Navbar\";\nimport CreateBug from \"../src/components/bugtrack/createbug.component\";\nimport BugList from \"../src/components/bugtrack/buglist.component\"\nimport EditBug from \"../src/components/bugtrack/editbug.component\";\nimport Projects from \"../src/components/projects/projectlist\";\nimport CreateProject from \"../src/components/projects/createproject\";\nimport EditProject from \"../src/components/projects/editproject.component\";\nimport UsersList from \"../src/components/usersProfile/userList.component\";\nimport EditUsers from \"../src/components/usersProfile/editUsers.component\";\nimport ViewProjectBugs from \"../src/components/projects/viewProjectBugs\";\nimport Notfound from \"./components/Notfound\";\n\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\nimport Dashboard from \"./components/dashboard/Dashboard\"\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n// Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"/login\";\n  }\n}\n\n\nexport default class App extends Component {\n  render() {\n    return (\n      \n          <div className=\"wrapper\">\n            \n          \n            <Switch>\n            \n            <PrivateRoute path=\"/buglist\" component={BugList}/>\n                <PrivateRoute exact path=\"/edit/:id\" component={EditBug} />\n                <PrivateRoute exact path=\"/projects/bugs/:id\" component={CreateBug} />\n                \n                <PrivateRoute exact path=\"/projects\" component={Projects}/>\n                <PrivateRoute exact path=\"/editProj/:id\" component={EditProject} />\n                <PrivateRoute path=\"/createProj\" component={CreateProject} />\n                \n                <PrivateRoute path=\"/usersList\" component={UsersList} />\n                <PrivateRoute path=\"/api/users/:id\" component={EditUsers} />\n                <PrivateRoute path=\"/bugs/:id\" component={ViewProjectBugs} />\n\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/register\" component={Register} />     \n                \n                <Route path='/dashboard' component={Dashboard} />\n                <Route component={Notfound} />\n                </Switch>\n                \n            </div>\n\n    )\n  }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}