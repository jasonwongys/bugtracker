{"ast":null,"code":"var _jsxFileName = \"/home/jasonw/Desktop/React/bugtracker/client/src/components/projects/viewProjectBugs.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'; //import BugList from '../bugtrack/buglist.component'\n\nconst Bug = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  className: props.bug.completed ? 'completed' : '',\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, props.bug.description), React.createElement(\"td\", {\n  className: props.bug.completed ? 'completed' : '',\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, props.date.substring(0, 10)), React.createElement(\"td\", {\n  className: props.bug.completed ? 'completed' : '',\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, props.bug.members), React.createElement(\"td\", {\n  className: props.bug.completed ? 'completed' : '',\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, props.bug.priority), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/edit/\" + props.bug._id,\n  className: \"btn btn-success\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, \"Edit \"), \" | \", React.createElement(Link, {\n  className: \"btn btn-danger\",\n  onClick: () => {\n    props.deleteBug(props.bug._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, \" delete\")));\n\nexport default class ViewProjectBugs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bugsList: [],\n      data: []\n    };\n    this.deleteBug = this.deleteBug.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('https://my-bugtracker-app.herokuapp.com/projects/bugs/' + this.props.match.params.id).then(response => {\n      this.setState({\n        bugsList: response.data\n      });\n      console.log(\"Did Mount here\" + JSON.stringify(response.data));\n    }).then(axios.get('https://my-bugtracker-app.herokuapp.com/bugs/').then(response => {\n      this.setState({\n        data: response.data\n      });\n      console.log(\"Data Mount here\" + JSON.stringify(response.data));\n    })).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  deleteBug(id) {\n    axios.delete('https://my-bugtracker-app.herokuapp.com/bugs/' + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      data: this.state.data.filter(el => el._id !== id)\n    });\n  }\n\n  render() {\n    //console.log(\"Buglist ID\",this.state.bugsList._id);\n    let filtered = this.state.data.filter(i => {\n      if (i.projects === this.state.bugsList._id) {\n        return i;\n      }\n\n      ;\n    });\n    let bugDescription = filtered.map(currentBug => {\n      return React.createElement(Bug, {\n        key: currentBug.id,\n        bug: currentBug,\n        deleteBug: this.deleteBug,\n        date: currentBug.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      });\n    });\n    console.log(\"result \", this.state.data);\n    console.log(\"Bugs date here\", this.state.bugsList);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Project Name: \", this.state.bugsList.projectName), React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"buglist\", React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Deadline\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Members\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Priority\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, bugDescription)));\n  }\n\n}","map":{"version":3,"sources":["/home/jasonw/Desktop/React/bugtracker/client/src/components/projects/viewProjectBugs.js"],"names":["React","Component","Link","axios","Bug","props","bug","completed","description","date","substring","members","priority","_id","deleteBug","ViewProjectBugs","constructor","state","bugsList","data","bind","componentDidMount","get","match","params","id","then","response","setState","console","log","JSON","stringify","catch","error","delete","filter","el","render","filtered","i","projects","bugDescription","map","currentBug","projectName","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n//import BugList from '../bugtrack/buglist.component'\n\nconst Bug = props => (\n    <tr>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.description}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{(props.date).substring(0,10)}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.members}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.priority}</td>\n        \n        <td>\n            <Link to={\"/edit/\"+props.bug._id} className=\"btn btn-success\" >Edit </Link> | <Link className=\"btn btn-danger\" onClick={() => { props.deleteBug(props.bug._id) }}> delete</Link> \n        </td>\n    </tr>\n)\n\nexport default class ViewProjectBugs extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bugsList: [],\n            data: []\n        }\n\n        this.deleteBug = this.deleteBug.bind(this);\n    }\n\n    componentDidMount() {\n        axios.get('https://my-bugtracker-app.herokuapp.com/projects/bugs/'+this.props.match.params.id)\n            .then(response => {\n                this.setState({\n                    bugsList: response.data});\n                    console.log(\"Did Mount here\" + JSON.stringify(response.data));\n            \n            }).then(axios.get('https://my-bugtracker-app.herokuapp.com/bugs/')\n                .then(response => {\n                        this.setState({\n                            data: response.data});\n                            console.log(\"Data Mount here\" + JSON.stringify(response.data));\n                    \n                    }))\n                    .catch(function(error) {\n                        console.log(error)\n                    })\n    }\n\n    deleteBug(id) {\n        axios.delete('https://my-bugtracker-app.herokuapp.com/bugs/'+id) \n            .then(response => {console.log(response.data)});\n\n        this.setState({\n            data: this.state.data.filter(el => el._id !== id)\n        })\n    }\n\n    render() {\n        \n        //console.log(\"Buglist ID\",this.state.bugsList._id);\n        let filtered = this.state.data.filter((i) => {\n            if(i.projects === this.state.bugsList._id) {\n                return i;\n            };\n\n        })\n\n        let bugDescription = filtered.map((currentBug) => {\n            return <Bug key={currentBug.id} \n                        bug={currentBug}\n                        deleteBug={this.deleteBug}\n                        date={currentBug.date}\n            />});\n    \n        console.log(\"result \",this.state.data);\n        \n        \n\n        console.log(\"Bugs date here\",this.state.bugsList);\n        \n        return (\n            <div className=\"container\">\n                <h3>Project Name: {this.state.bugsList.projectName}</h3>\n\n                <table className=\"table\"\n                    style={{marginTop: 20 }}>\n                        <thead>buglist\n                            <tr>\n                        \n                                <th>Description</th>\n                                <th>Deadline</th>\n                                <th>Members</th>\n                                <th>Priority</th>\n                                <th>Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>{bugDescription}</tbody>\n                {/* <BugList bugs={this.state.bugsList.bugs}/> */}\n                </table>\n            </div>  \n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}