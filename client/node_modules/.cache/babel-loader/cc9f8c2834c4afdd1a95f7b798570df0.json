{"ast":null,"code":"import _classCallCheck from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jasonw/Desktop/React/bugtracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';//import BugList from '../bugtrack/buglist.component'\nvar Bug=function Bug(props){return React.createElement(\"tr\",null,React.createElement(\"td\",{className:props.bug.completed?'completed':''},props.bug.description),React.createElement(\"td\",{className:props.bug.completed?'completed':''},props.date.substring(0,10)),React.createElement(\"td\",{className:props.bug.completed?'completed':''},props.bug.members),React.createElement(\"td\",{className:props.bug.completed?'completed':''},props.bug.priority),React.createElement(\"td\",null,React.createElement(Link,{to:\"/edit/\"+props.bug._id,className:\"btn btn-success\"},\"Edit \"),\" | \",React.createElement(Link,{className:\"btn btn-danger\",onClick:function onClick(){props.deleteBug(props.bug._id);}},\" delete\")));};var ViewProjectBugs=/*#__PURE__*/function(_Component){_inherits(ViewProjectBugs,_Component);function ViewProjectBugs(props){var _this;_classCallCheck(this,ViewProjectBugs);_this=_possibleConstructorReturn(this,_getPrototypeOf(ViewProjectBugs).call(this,props));_this.state={bugsList:[],data:[]};_this.deleteBug=_this.deleteBug.bind(_assertThisInitialized(_this));return _this;}_createClass(ViewProjectBugs,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:4000/projects/bugs/'+this.props.match.params.id).then(function(response){_this2.setState({bugsList:response.data});console.log(\"Did Mount here\"+JSON.stringify(response.data));}).then(axios.get('http://localhost:4000/bugs/').then(function(response){_this2.setState({data:response.data});console.log(\"Data Mount here\"+JSON.stringify(response.data));})).catch(function(error){console.log(error);});}},{key:\"deleteBug\",value:function deleteBug(id){axios.delete('http://localhost:4000/bugs/'+id).then(function(response){console.log(response.data);});this.setState({data:this.state.data.filter(function(el){return el._id!==id;})});}},{key:\"render\",value:function render(){var _this3=this;//console.log(\"Buglist ID\",this.state.bugsList._id);\nvar filtered=this.state.data.filter(function(i){if(i.projects===_this3.state.bugsList._id){return i;};});var bugDescription=filtered.map(function(currentBug){return React.createElement(Bug,{key:currentBug.id,bug:currentBug,deleteBug:_this3.deleteBug,date:currentBug.date});});console.log(\"result \",this.state.data);console.log(\"Bugs date here\",this.state.bugsList);return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h3\",null,\"Project Name: \",this.state.bugsList.projectName),React.createElement(\"table\",{className:\"table\",style:{marginTop:20}},React.createElement(\"thead\",null,\"buglist\",React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Description\"),React.createElement(\"th\",null,\"Deadline\"),React.createElement(\"th\",null,\"Members\"),React.createElement(\"th\",null,\"Priority\"),React.createElement(\"th\",null,\"Actions\"))),React.createElement(\"tbody\",null,bugDescription)));}}]);return ViewProjectBugs;}(Component);export{ViewProjectBugs as default};","map":{"version":3,"sources":["/home/jasonw/Desktop/React/bugtracker/client/src/components/projects/viewProjectBugs.js"],"names":["React","Component","Link","axios","Bug","props","bug","completed","description","date","substring","members","priority","_id","deleteBug","ViewProjectBugs","state","bugsList","data","bind","get","match","params","id","then","response","setState","console","log","JSON","stringify","catch","error","delete","filter","el","filtered","i","projects","bugDescription","map","currentBug","projectName","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n//import BugList from '../bugtrack/buglist.component'\n\nconst Bug = props => (\n    <tr>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.description}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{(props.date).substring(0,10)}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.members}</td>\n        <td className={props.bug.completed ? 'completed' : ''}>{props.bug.priority}</td>\n        \n        <td>\n            <Link to={\"/edit/\"+props.bug._id} className=\"btn btn-success\" >Edit </Link> | <Link className=\"btn btn-danger\" onClick={() => { props.deleteBug(props.bug._id) }}> delete</Link> \n        </td>\n    </tr>\n)\n\nexport default class ViewProjectBugs extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bugsList: [],\n            data: []\n        }\n\n        this.deleteBug = this.deleteBug.bind(this);\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:4000/projects/bugs/'+this.props.match.params.id)\n            .then(response => {\n                this.setState({\n                    bugsList: response.data});\n                    console.log(\"Did Mount here\" + JSON.stringify(response.data));\n            \n            }).then(axios.get('http://localhost:4000/bugs/')\n                .then(response => {\n                        this.setState({\n                            data: response.data});\n                            console.log(\"Data Mount here\" + JSON.stringify(response.data));\n                    \n                    }))\n                    .catch(function(error) {\n                        console.log(error)\n                    })\n    }\n\n    deleteBug(id) {\n        axios.delete('http://localhost:4000/bugs/'+id) \n            .then(response => {console.log(response.data)});\n\n        this.setState({\n            data: this.state.data.filter(el => el._id !== id)\n        })\n    }\n\n    render() {\n        \n        //console.log(\"Buglist ID\",this.state.bugsList._id);\n        let filtered = this.state.data.filter((i) => {\n            if(i.projects === this.state.bugsList._id) {\n                return i;\n            };\n\n        })\n\n        let bugDescription = filtered.map((currentBug) => {\n            return <Bug key={currentBug.id} \n                        bug={currentBug}\n                        deleteBug={this.deleteBug}\n                        date={currentBug.date}\n            />});\n    \n        console.log(\"result \",this.state.data);\n        \n        \n\n        console.log(\"Bugs date here\",this.state.bugsList);\n        \n        return (\n            <div className=\"container\">\n                <h3>Project Name: {this.state.bugsList.projectName}</h3>\n\n                <table className=\"table\"\n                    style={{marginTop: 20 }}>\n                        <thead>buglist\n                            <tr>\n                        \n                                <th>Description</th>\n                                <th>Deadline</th>\n                                <th>Members</th>\n                                <th>Priority</th>\n                                <th>Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>{bugDescription}</tbody>\n                {/* <BugList bugs={this.state.bugsList.bugs}/> */}\n                </table>\n            </div>  \n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}